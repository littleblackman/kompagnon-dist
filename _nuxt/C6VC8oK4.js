import{a2 as p,u as b,r as e,z as E}from"./Cnx3c5PK.js";const A=p("metadata",()=>{const g=b(),s=e([]),r=e([]),n=e([]),c=e([]),u=e([]),o=e([]),i=e([]),v=e([]),l=e([]),d=e([]),m=e({}),h=e({}),f=e(!1);async function S(){try{const a=E(),t=await $fetch(`${a.public.apiBase}/metadata`,{headers:{Authorization:`Bearer ${g.token}`}});s.value=t.criterias||[],r.value=t.status||[],n.value=t.types||[],c.value=t.narrativeArcs||[],u.value=t.dramaticFunctions||[],o.value=t.actantialSchema||[],i.value=t.genres||[],v.value=t.subgenres||[],l.value=t.events||[],d.value=t.narrativeStructures||[],m.value=t.subgenreEvents||{},h.value=t.structureEvents||{},f.value=!0}catch(a){console.error("Erreur chargement metadata :",a)}}return{criterias:s,status:r,types:n,narrativeArcs:c,dramaticFunctions:u,actantialSchema:o,genres:i,subgenres:v,events:l,narrativeStructures:d,subgenreEvents:m,structureEvents:h,loaded:f,fetchMetadata:S}});export{A as useMetadataStore};
