import{a3 as a,u as s,a4 as i,n as r}from"./DDbqB2VL.js";const l=a(async()=>{let o,n;const e=s();{if(!e.token){const t=localStorage.getItem("token");t&&(e.token=t)}if(e.token)try{[o,n]=i(()=>e.fetchUser()),await o,n()}catch{return console.warn("Token invalide, suppression et redirection vers /login"),e.logout(),r("/login")}if(!e.token)return console.warn("Pas de token dispo, redirection vers /login"),r("/login")}});export{l as default};
